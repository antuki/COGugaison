<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Changer les typologies de géographie communale — changement_COG_typo • COGugaison</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/all.min.css" integrity="sha256-PbSmjxuVAzJ6FPvNYsrXygfGhNJYyZ2GktDbkMBqQZg=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/v4-shims.min.css" integrity="sha256-A6jcAdwFD48VMjlI3GDxUd+eCQa7/KWy6G9oe/ovaPA=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Changer les typologies de géographie communale — changement_COG_typo" />
<meta property="og:description" content="Transformer des typologies en géographie au premier janvier d'une année souhaitée en ayant le choix entre plusieurs hypothèses de classement en cas de fusion de communes de classes différentes (attribuer la classe qui contient le plus de population, définir une classe absorbante ou une classe spécifique aux regroupements de plusieurs communes de classes différentes)." />
<meta property="og:image" content="/logo.png" />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">COGugaison</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../articles/COGugaison.html">Introduction à COGugaison</a>
</li>
<li>
  <a href="../reference/index.html">Documentation des fonctions</a>
</li>
<li>
  <a href="../news/index.html">Nouveautés</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/antuki/COGugaison">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Changer les typologies de géographie communale</h1>
    <small class="dont-index">Source: <a href='https://github.com/antuki/COGugaison/blob/master/R/changement_COG_typo.R'><code>R/changement_COG_typo.R</code></a></small>
    <div class="hidden name"><code>changement_COG_typo.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Transformer des typologies en géographie au premier janvier d'une année souhaitée en ayant le choix entre plusieurs hypothèses de classement en cas de fusion de communes de classes différentes (attribuer la classe qui contient le plus de population, définir une classe absorbante ou une classe spécifique aux regroupements de plusieurs communes de classes différentes).</p>
    </div>

    <pre class="usage"><span class='fu'>changement_COG_typo</span>(<span class='no'>table_entree</span>, <span class='no'>annees</span>,
  <span class='kw'>codgeo_entree</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/colnames.html'>colnames</a></span>(<span class='no'>table_entree</span>)[<span class='fl'>1</span>],
  <span class='kw'>typos</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/colnames.html'>colnames</a></span>(<span class='no'>table_entree</span>)[-<span class='fu'><a href='https://rdrr.io/r/base/which.html'>which</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/colnames.html'>colnames</a></span>(<span class='no'>table_entree</span>) <span class='kw'>==</span>
  <span class='no'>codgeo_entree</span>)], <span class='kw'>methode_fusion</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"methode_difference"</span>,
  <span class='st'>"methode_classe_fusion"</span>, <span class='st'>"methode_max_pop"</span>, <span class='st'>"methode_classe_absorbante"</span>,
  <span class='st'>"methode_classe_absorbee"</span>), <span class='kw'>mot_difference</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>mot_fusion</span> <span class='kw'>=</span> <span class='st'>"commune fusionnée"</span>, <span class='kw'>classe_absorbante</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>classe_absorbee</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>donnees_insee</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>libgeo</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>table_entree</th>
      <td><p>correspond à la table à transformer en une autre géographie</p></td>
    </tr>
    <tr>
      <th>annees</th>
      <td><p>est un vecteur qui liste l'ensemble des années qui séparent le code officiel géographique de départ et d'arrivée. Par exemple c(1968:1985). Le package rend possible l'utilisation de tables de passages d'une année de COG vers une année antiérieure (par exemple c(2016:2014)).</p></td>
    </tr>
    <tr>
      <th>codgeo_entree</th>
      <td><p>est une chaîne de caractères qui indique le nom de la variable contenant les codes Insee communaux. Par défaut, il s'agit du nom de la première colonne de table_entree.</p></td>
    </tr>
    <tr>
      <th>typos</th>
      <td><p>est un vecteur de chaînes de caractères qui indique les noms des typologies à convertir . Elles peuvent être de types numeric, character ou factor. Par défaut, il s'agit de l'ensemble des variables de table_entree sauf codgeo_entree.</p></td>
    </tr>
    <tr>
      <th>methode_fusion</th>
      <td><p>méthode choisie en cas de fusion de communes de classes différentes :
- "methode_classe_fusion" : pour toutes les communes qui ont fusionné entre 2 dates indiquer comme classe la valeur inscrite dans "mot_fusion" y compris pour les fusions de communes de mêmes classes (sinon utiliser la méthode : "methode_difference"). Remarque : La fonction changement_COG_typo peut très bien s'utiliser avec des variables numériques (populations...) si l'on choisit cette hypothèse en cas de fusions de communes.
- "methode_difference" : créer une classe spécifique dont le nom est contenu dans mot_difference
- "methode_max_pop" : attribuer la classe contenant le maximum de population des communes fusionnées
- "methode_classe_absorbante" : attribuer la classe dite absorbante à toute commune fusionnée contenant au moins une ancienne commune appartenant à cette classe absorbante
- "methode_classe_absorbee" : ne pas tenir compte de cette classe dite "absorbée" pour toute commune fusionnée contenant au moins une ancienne commune appartenant à cette classe absorbée</p></td>
    </tr>
    <tr>
      <th>mot_difference</th>
      <td><p>n'est à définir que si methode_fusion = "methode_difference". Si ce paramètre est laissé à NULL alors la commune fusionnée possède comme libellé de classe l'ensemble des libellés présents dans ses communes fusionnées séparés d'un "et". Sinon, il indique un nom de classe à attribuer aux communes fusionnées de classes différentes.</p></td>
    </tr>
    <tr>
      <th>mot_fusion</th>
      <td><p>n'est à définir que si methode_fusion = "methode_classe_fusion". Sa valeur par défaut vaut "commune fusionnée".</p></td>
    </tr>
    <tr>
      <th>classe_absorbante</th>
      <td><p>n'est à définir que si methode_fusion = "methode_classe_absorbante". Si ce paramètre est laissé à NULL alors la commune fusionnée possède comme libellé de classe l'ensemble des libellés présents dans ses communes fusionnées séparés d'un "et". Sinon, il indique le nom de la classe dite absorbante à attribuer à toute commune fusionnée contenant au moins une ancienne commune appartenant à cette classe absorbante.</p></td>
    </tr>
    <tr>
      <th>classe_absorbee</th>
      <td><p>n'est à définir que si methode_fusion = "methode_classe_absorbee". Si ce paramètre est laissé à NULL alors la commune fusionnée possède comme libellé de classe l'ensemble des libellés présents dans ses communes fusionnées séparés d'un "et". Sinon, il indique le nom de la classe dite absorbée à attribuer à toute commune fusionnée contenant au moins une ancienne commune appartenant à cette classe absorbante.</p></td>
    </tr>
    <tr>
      <th>donnees_insee</th>
      <td><p>vaut TRUE si les données manipulées sont produites par l'Insee. En effet, quelques rares modifications communales (la défusion des communes Loisey et Culey au 1er janvier 2014 par exemple) ont été prises en compte dans les bases de données communales de l'Insee plus tard que la date officielle.</p></td>
    </tr>
    <tr>
      <th>libgeo</th>
      <td><p>vaut TRUE si l'on veut rajouter dans la table une colonne nommée "nom_commune" qui indique le nom de la commune issu du code officiel géographique et FALSE sinon.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Le code officiel géographique le plus récent du package est actuellement celui au 01/01/2020. <br /></p>
<p>Les millésimes des COG qui peuvent être utilisés sont à ce stade les suivants : 1968, 1975, 1982, 1990, 1999, 2008 à 2020. <br /></p>
<p>Les dates de référence des codes officiels géographiques utilisés dans COGugaison sont les suivantes :</p><ul>
<li><p>COG 1968 : à partir du 01/03/1968</p></li>
<li><p>COG 1975 : à partir du 20/02/1975</p></li>
<li><p>COG 1982 : à partir du 04/03/1982</p></li>
<li><p>COG 1990 : à partir du 05/03/1990</p></li>
<li><p>COG 1999 : à partir du 08/03/1999</p></li>
<li><p>Pour tous les autres COG : à partir du 01/01 de chaque année</p></li>
</ul><p><br /></p>
<p>Les différences entre les tables de passage Insee et non Insee sont les suivantes :<br /></p><ul>
<li><p>1982-03-03 (pris en compte par l'Insee seulement après le 04/03/1982): Flaignes-Havys (08169) est un rassemblement de Flaignes-Havys (08169), Havys (08221) [fusion simple].</p></li>
<li><p>2014-01-01 (pris en compte par l'Insee seulement au 01/01/2015) : Loisey (55298) s'est séparée en Loisey (55298), Culey (55138) [rétablissement].</p></li>
<li><p>1990-02-01 (pris en compte par l'Insee seulement après le 05/03/1990) : Le code commune de Oudon passe de 14624 à 14697 [changement de code dû à un changement de chef-lieu].</p></li>
<li><p>2014-01-07 (pris en compte par l'Insee  dès le 01/01/2016) : Tôtes est rattachée à Notre-Dame-de-Fresnay qui devient L'Oudon (changement de code de l'Oudon de 14697 à 14472) [transfert de chef-lieu].</p></li>
<li><p>1981-09-28 (pris en compte par l'Insee  dès le 20/02/1975) : Vaudreuil-Ex-Ensemble Urbain (27701) est créée à partir des parcelles d'Incarville (27351), de Léry (27365) , de Porte-Joie (27471) , de Poses  (27474) , de Saint-Étienne-du-Vauvray (27537), de Saint-Pierre-du-Vauvray (27598), de Tournedos-sur-Seine  (27651) et du Vaudreuil (27528) [création]. Cette situation étant complexe, nous avons pour le moment considéré que Vaudreuil-Ex-Ensemble Urbain (27701) est créée à partir de parcelles du Vaudreuil (27528) uniquement.</p></li>
<li><p>En 1968, les 4 communes qui auraient dû d'après le COG être codées 2B044,2B076,2B151 et 2A325 sont codées 20044,20076,20151 et 20325 dans les données Insee.</p></li>
</ul>

    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    
<ul>
<li><p><a href='https://www.insee.fr/fr/information/2666684#titre-bloc-11'>historique des géographies communales (Insee)</a></p></li>
<li><p><a href='https://www.insee.fr/fr/information/2028028'>tables d'appartenance des communes aux différents niveaux géographiques (Insee)</a></p></li>
</ul>

    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><a href='changement_COG_varNum.html'>changement_COG_varNum</a>, <a href='changement_COG_typo_details.html'>changement_COG_typo_details</a>,  <a href='COG_akinator.html'>COG_akinator</a>, <a href='enlever_PLM.html'>enlever_PLM</a>, <a href='modification_Corse.html'>modification_Corse</a>, <a href='modifications_communales.html'>modifications_communales</a>,<a href='nivsupra.html'>nivsupra</a>,<a href='apparier_COG.html'>apparier_COG</a>,<a href='modification_Oudon.html'>modification_Oudon</a>,<a href='trajectoire_commune.html'>trajectoire_commune</a></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'>## Exemple 1</span>
<span class='co'># Ici nous allons transformer les deux typologies (typoA et typoB) de la table exemple_pop en géographie communale au 1er janvier 2017 (au lieu de 2014).</span>
<span class='co'># L'hypothèse de classement en cas de fusion de communes (*methode_fusion*) choisie est celle d'une classe spécifique (*methode_difference*, classe appelée *mot_difference*="differents") aux regroupements de plusieurs communes de classes différentes. Les autres hypothèses possibles auraient pu être l'hypothèse du maximum de population *methode_max_pop* ou de classe absorbante *methode_classe_absorbante*.</span>
<span class='no'>exemple_popcom_COG2017_typo</span> <span class='kw'>&lt;-</span> <span class='fu'>changement_COG_typo</span>(<span class='kw'>table_entree</span><span class='kw'>=</span><span class='no'>exemple_popcom</span>[,-<span class='fl'>2</span>],<span class='kw'>annees</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>2014</span>:<span class='fl'>2017</span>),<span class='kw'>methode_fusion</span><span class='kw'>=</span><span class='st'>"methode_difference"</span>,<span class='kw'>typos</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"typoA"</span>,<span class='st'>"typoB"</span>),<span class='kw'>mot_difference</span> <span class='kw'>=</span> <span class='st'>"differents"</span>,<span class='kw'>libgeo</span><span class='kw'>=</span><span class='no'>T</span>,<span class='kw'>donnees_insee</span><span class='kw'>=</span><span class='no'>T</span>)
<span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span>(<span class='no'>exemple_popcom_COG2017_typo</span>)</div><div class='output co'>#&gt;   CODGEO             nom_commune    typoA typoB
#&gt; 1  01001 L'Abergement-Clémenciat CLASSE 2     F
#&gt; 2  01002   L'Abergement-de-Varey CLASSE 3     D
#&gt; 3  01004       Ambérieu-en-Bugey CLASSE 1     B
#&gt; 4  01005     Ambérieux-en-Dombes CLASSE 3     F
#&gt; 5  01006                 Ambléon CLASSE 4     E
#&gt; 6  01007                Ambronay CLASSE 5     A</div><div class='input'><span class='co'># Nous allons maintenant isoler dans une table les communes fusionnées appartenant à des classes différentes, ici selon la typologie "typoA" entre 2014 et 2015, 2015 et 2016 et 2016 et 2017.</span>
<span class='no'>details_exemple_popcom_COG2017_typo</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='changement_COG_typo_details.html'>changement_COG_typo_details</a></span>(<span class='kw'>table_entree</span><span class='kw'>=</span><span class='no'>exemple_popcom</span>[,-<span class='fl'>2</span>],<span class='kw'>annees</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>2014</span>:<span class='fl'>2017</span>),<span class='kw'>typo</span><span class='kw'>=</span><span class='st'>"typoA"</span>, <span class='kw'>donnees_insee</span><span class='kw'>=</span><span class='no'>T</span>)
<span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span>(<span class='no'>details_exemple_popcom_COG2017_typo</span><span class='kw'>[[</span><span class='st'>"2014_2015"</span>]])</div><div class='output co'>#&gt;   cod2014              lib2014 cod2015                     lib2015    typoA
#&gt; 1   14178               Corbon   14474 Notre-Dame-d'Estrées-Corbon CLASSE 2
#&gt; 2   14474 Notre-Dame-d'Estrées   14474 Notre-Dame-d'Estrées-Corbon CLASSE 4
#&gt; 3   25034        Auxon-Dessous   25035                  Les Auxons CLASSE 1
#&gt; 4   25035         Auxon-Dessus   25035                  Les Auxons CLASSE 3
#&gt; 5   38024           Badinières   38152           Eclose-Badinières CLASSE 4
#&gt; 6   38152               Eclose   38152           Eclose-Badinières CLASSE 3</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span>(<span class='no'>details_exemple_popcom_COG2017_typo</span><span class='kw'>[[</span><span class='st'>"2015_2016"</span>]])</div><div class='output co'>#&gt;   cod2015             lib2015 cod2016            lib2016    typoA
#&gt; 1   01015           Arbignieu   01015    Arboys en Bugey CLASSE 3
#&gt; 2   01340          Saint-Bois   01015    Arboys en Bugey CLASSE 2
#&gt; 3   01119           Corcelles   01080 Champdor-Corcelles CLASSE 1
#&gt; 4   01080            Champdor   01080 Champdor-Corcelles CLASSE 2
#&gt; 5   01176 Le Grand-Abergement   01187      Haut Valromey CLASSE 2
#&gt; 6   01409             Songieu   01187      Haut Valromey CLASSE 5</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span>(<span class='no'>details_exemple_popcom_COG2017_typo</span><span class='kw'>[[</span><span class='st'>"2016_2017"</span>]])</div><div class='output co'>#&gt;   cod2016             lib2016 cod2017          lib2017    typoA
#&gt; 1   01095 Chavannes-sur-Suran   01095 Nivigne et Suran CLASSE 5
#&gt; 2   01172           Germagnat   01095 Nivigne et Suran CLASSE 1
#&gt; 3   01098         Chazey-Bons   01098      Chazey-Bons CLASSE 3
#&gt; 4   01316              Pugieu   01098      Chazey-Bons CLASSE 4
#&gt; 5   03168             Meaulne   03168   Meaulne-Vitray CLASSE 2
#&gt; 6   03318              Vitray   03168   Meaulne-Vitray CLASSE 5</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#details">Details</a></li>
      <li><a href="#references">References</a></li>
      <li><a href="#see-also">See also</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by  antuki.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.9000.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


